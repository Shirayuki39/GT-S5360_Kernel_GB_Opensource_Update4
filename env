#!/bin/bash

# location
  export KERNELDIR=`readlink -f .`;
  export PARENT_DIR=`readlink -f ${KERNELDIR}/..`;

# link modules to parent directory
if [ -e $PARENT_DIR/modules ]; then
  rm $PARENT_DIR/modules
fi;
  ln -s $KERNELDIR/modules $PARENT_DIR/modules

# kernel
  export ARCH=arm;
  export KERNEL_CONFIG=bcm21553_totoro_05_defconfig

# compiler
  export CROSS_COMPILE=$PARENT_DIR/arm-eabi-4.4.3/bin/arm-eabi-;

# number of cpus
  export NUMBEROFCPUS=`grep 'processor' /proc/cpuinfo | wc -l`;

# Colorize and add text parameters
  export red=$(tput setaf 1) # red
  export grn=$(tput setaf 2) # green
  export blu=$(tput setaf 4) # blue
  export cya=$(tput setaf 6) # cyan
  export txtbld=$(tput bold) # Bold
  export bldred=${txtbld}$(tput setaf 1) # Bold red
  export bldgrn=${txtbld}$(tput setaf 2) # Bold green
  export bldblu=${txtbld}$(tput setaf 4) # Bold blue
  export bldcya=${txtbld}$(tput setaf 6) # Bold cyan
  export txtrst=$(tput sgr0) # Reset
